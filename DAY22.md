20240324

## 클린코드 12장 | 창발성

## 기억하고 싶은 내용은?

### 단순한 설계 규칙 네 가지가 소프트웨어 설계 품질을 크게 높여준다.

- 모든 테스트를 실행한다.
- 중복을 없앤다.
- 프로그래머 의도를 표현한다.
- 클래스와 메서드 수를 최소로 줄인다.
  (중요도 순이다.)

- 결합도가 높으면 테스트 케이스를 작성하기 어렵다.
- 그러므로, 테스트 케이스를 많이 작성할수록 개발자는 DIP와 같은 원칙을 적용하고, 의존성 주입, 인터페이스, 추상화 등과 같은 도구를 사용해 결합도를 낮춘다.

### 클래스와 메서드 수를 최소로 줄여라

- 중복을 제거하고, 의도를 표현하고, SRP를 준수한다는 기본적인 개념도 극단으로 치달으면 **득보다 실이 많아진다.**
  - 클래스와 메서드 크기를 줄이자고 조그만 클래스와 메서드를 수없이 만드는 사례도 적지 않다.
  - 그래서 이 규칙은 함수와 클래스 수를 가능한 줄이라고 제안한다.
  - 실용적인 방식을 택한다.

## 13장 | 동시성

## 기억하고 싶은 내용은?

### 동시성이 필요한 이유?

- 동시성은 결합을 없애는 전략이다.
- 즉 **무엇과 언제**를 분리하는 전략이다.

- 스레드가 하나인 프로그램은 무엇과 언제가 서로 밀접하다. 그래서 호출 스택을 살펴보면 프로그램 상태가 곧바로 드러난다.

- 무엇과 언제를 분리하면 애플리케이션 구조와 효율이 극적으로 나아진다.

### 동시성과 관련된 타당한 생각 몇 가지

- 동시성은 다소 부하를 유발한다.
- 동시성은 복잡하다.
- 일반적으로 동시성 버그는 재현하기 어렵다.
- 동시성을 구현하려면 흔히 근본적인 설계 전략을 재고해야 한다.

### 동시성 방어 원칙

- 단일 책임 원칙

  - SRP는 주어진 메서드/클래스/컴포넌트를 변경할 이유가 하나여야 한다는 원칙.
  - **동시성은 복잡성이란 이유 하나만으로도 따로 분리할 이유가 충분.**
  - 불행히도 동시성과 관련이 없는 코드에 동시성을 곧바로 구현하는 사례가 너무도 흔하다.

- 스레드는 가능한 독립적으로 구현하라
  - 자신만의 세상에 존재하는 스레드를 구현한다.
  - 즉, 다른 스레드와 자료를 공유하지 않는다.

> 동시성 프로그래밍을 해본 적이 없어서 이번 장은 '이런게 있구나' 정도로만 읽어봤다.
